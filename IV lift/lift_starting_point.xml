<?xml version="1.0" encoding="utf-8"?><!DOCTYPE nta PUBLIC '-//Uppaal Team//DTD Flat System 1.1//EN' 'http://www.it.uu.se/research/group/darts/uppaal/flat-1_1.dtd'><nta><declaration>chan openDoor, closeDoor, engineOn, engineOff, goUp, goDown;

bool btn[5] = {false, false, false, false, false};
bool doorIsOpen = false;
bool engineIsOn = false;
int currentFloor = 0;</declaration><template><name>Env</name><location id="id0" x="8" y="8"><urgent/></location><init ref="id0"/><transition><source ref="id0"/><target ref="id0"/><label kind="select" x="-32" y="-88">i : int[0,4]</label><label kind="guard" x="-32" y="-72">not btn[i]</label><label kind="assignment" x="-32" y="-56">btn[i] = true</label><nail x="40" y="-32"/><nail x="-32" y="-32"/></transition></template><template><name>Door</name><location id="id1" x="-416" y="-176"><name x="-392" y="-184">open</name><urgent/></location><location id="id2" x="-616" y="-176"><name x="-672" y="-184">close</name><urgent/></location><init ref="id2"/><transition><source ref="id1"/><target ref="id1"/><label kind="synchronisation" x="-448" y="-248">openDoor?</label><nail x="-400" y="-224"/><nail x="-440" y="-224"/></transition><transition><source ref="id2"/><target ref="id2"/><label kind="synchronisation" x="-656" y="-248">closeDoor?</label><nail x="-592" y="-224"/><nail x="-640" y="-224"/></transition><transition><source ref="id1"/><target ref="id2"/><label kind="synchronisation" x="-568" y="-120">closeDoor?</label><label kind="assignment" x="-568" y="-104">doorIsOpen = false,
btn[currentFloor] = false</label><nail x="-512" y="-120"/></transition><transition><source ref="id2"/><target ref="id1"/><label kind="synchronisation" x="-568" y="-280">openDoor?</label><label kind="assignment" x="-568" y="-264">doorIsOpen = true</label><nail x="-520" y="-240"/></transition></template><template><name>Controler</name><location id="id3" x="0" y="0"><urgent/></location><init ref="id3"/><transition><source ref="id3"/><target ref="id3"/><label kind="synchronisation" x="16" y="72">closeDoor!</label><nail x="80" y="64"/><nail x="16" y="64"/></transition><transition><source ref="id3"/><target ref="id3"/><label kind="synchronisation" x="96" y="-16">engineOn!</label><nail x="88" y="-32"/><nail x="88" y="40"/></transition><transition><source ref="id3"/><target ref="id3"/><label kind="synchronisation" x="-64" y="-80">goUp!</label><nail x="-16" y="-56"/><nail x="-88" y="-56"/></transition><transition><source ref="id3"/><target ref="id3"/><label kind="synchronisation" x="-80" y="72">openDoor!</label><nail x="-80" y="64"/><nail x="-16" y="64"/></transition><transition><source ref="id3"/><target ref="id3"/><label kind="synchronisation" x="8" y="-80">goDown!</label><nail x="8" y="-56"/><nail x="80" y="-56"/></transition><transition><source ref="id3"/><target ref="id3"/><label kind="synchronisation" x="-160" y="-8">engineOff!</label><nail x="-88" y="-32"/><nail x="-88" y="40"/></transition></template><template><name>EnvExplicite</name><location id="id4" x="-512" y="-280"><urgent/></location><init ref="id4"/><transition><source ref="id4"/><target ref="id4"/><label kind="guard" x="-664" y="-336">not btn[4]</label><label kind="assignment" x="-664" y="-320">btn[4] = true</label><nail x="-592" y="-280"/><nail x="-576" y="-344"/></transition><transition><source ref="id4"/><target ref="id4"/><label kind="guard" x="-640" y="-240">not btn[3]</label><label kind="assignment" x="-640" y="-224">btn[3] = true</label><nail x="-528" y="-208"/><nail x="-592" y="-256"/></transition><transition><source ref="id4"/><target ref="id4"/><label kind="guard" x="-448" y="-240">not btn[2]</label><label kind="assignment" x="-448" y="-224">btn[2] = true</label><nail x="-432" y="-256"/><nail x="-496" y="-208"/></transition><transition><source ref="id4"/><target ref="id4"/><label kind="guard" x="-424" y="-336">not btn[1]</label><label kind="assignment" x="-424" y="-320">btn[1] = true</label><nail x="-496" y="-288"/><nail x="-448" y="-344"/><nail x="-432" y="-280"/></transition><transition><source ref="id4"/><target ref="id4"/><label kind="guard" x="-536" y="-400">not btn[0]</label><label kind="assignment" x="-536" y="-384">btn[0] = true</label><nail x="-552" y="-360"/><nail x="-464" y="-360"/></transition></template><template><name x="5" y="5">Lift</name><location id="id5" x="-144" y="-120"><name x="-154" y="-150">on</name><urgent/></location><location id="id6" x="-304" y="-120"><name x="-314" y="-150">off</name><urgent/></location><init ref="id6"/><transition><source ref="id5"/><target ref="id5"/><label kind="guard" x="-48" y="-80">currentFloor &lt;= 0</label><label kind="synchronisation" x="-48" y="-64">goDown?</label><nail x="-56" y="-80"/><nail x="-56" y="-56"/></transition><transition><source ref="id5"/><target ref="id5"/><label kind="guard" x="-56" y="-176">currentFloor &gt;= 4</label><label kind="synchronisation" x="-56" y="-160">goUp?</label><nail x="-64" y="-176"/><nail x="-64" y="-144"/></transition><transition><source ref="id5"/><target ref="id5"/><label kind="synchronisation" x="-152" y="-64">engineOn?</label><nail x="-144" y="-64"/><nail x="-104" y="-64"/></transition><transition><source ref="id6"/><target ref="id6"/><label kind="synchronisation" x="-440" y="-80">engineOff?</label><nail x="-368" y="-88"/><nail x="-368" y="-48"/></transition><transition><source ref="id6"/><target ref="id6"/><label kind="synchronisation" x="-432" y="-128">goDown?</label><nail x="-368" y="-128"/><nail x="-368" y="-96"/></transition><transition><source ref="id6"/><target ref="id6"/><label kind="synchronisation" x="-416" y="-168">goUp?</label><nail x="-368" y="-176"/><nail x="-368" y="-136"/></transition><transition><source ref="id5"/><target ref="id5"/><label kind="guard" x="-48" y="-136">currentFloor &gt; 0</label><label kind="synchronisation" x="-48" y="-120">goDown?</label><label kind="assignment" x="-48" y="-104">currentFloor -= 1</label><nail x="-56" y="-136"/><nail x="-56" y="-104"/></transition><transition><source ref="id5"/><target ref="id5"/><label kind="guard" x="-80" y="-256">currentFloor &lt; 4</label><label kind="synchronisation" x="-80" y="-240">goUp?</label><label kind="assignment" x="-80" y="-224">currentFloor += 1</label><nail x="-96" y="-216"/><nail x="-64" y="-192"/></transition><transition><source ref="id5"/><target ref="id6"/><label kind="synchronisation" x="-296" y="-80">engineOff?</label><label kind="assignment" x="-296" y="-64">engineIsOn = false</label><nail x="-232" y="-80"/></transition><transition><source ref="id6"/><target ref="id5"/><label kind="synchronisation" x="-280" y="-192">engineOn?</label><label kind="assignment" x="-280" y="-176">engineIsOn = true</label><nail x="-232" y="-152"/></transition></template><system>lift = Lift();
env = Env();
door = Door();
controler = Controler();

system lift, env, door, controler;</system></nta>